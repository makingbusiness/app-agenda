<ion-header>
  <ion-toolbar>
    <ion-title>Programación</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="guardar()">
        <ion-icon slot="icon-only" name="save-sharp"></ion-icon>
      </ion-button>
      <ion-back-button (click)="regresar()">
        <ion-icon slot="icon-only" name="chevron-back-circle-sharp"></ion-icon>
      </ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid fixed>
  </ion-grid>
  <ion-row>
    <ion-col size="12">
        {{ cliente.codclie }}
    </ion-col>
  </ion-row>
  <ion-row>
    <ion-col size="12">
        {{ cliente.descrip }}
    </ion-col>
  </ion-row>  
  <ion-row>
    <ion-col size="12">
        <ion-list>
          <ion-radio-group name="auto" value="tesla">
            <ion-item>
              <ion-label>Visita</ion-label>
              <ion-radio value="visita" (ionFocus)="visitar()"></ion-radio>
            </ion-item>
            <ion-item>
              <ion-label>Llamada</ion-label>
              <ion-radio value="llamada" (ionFocus)="llamar()"></ion-radio>
            </ion-item>
          </ion-radio-group>
        </ion-list>
    </ion-col>
  </ion-row>

  <ion-row>
    <ion-col size="12">
      <ion-list>
        <ion-item id="modalPrg">
          <ion-label>Fecha Programación</ion-label>
          <ion-note slot="end">{{programacion.FechaProg | date:'yyyy/MM/dd'}}</ion-note>
        </ion-item>
        <ion-modal trigger="modalPrg" [keepContentsMounted]="true">
          <ng-template>
            <ion-datetime 
                  min="2023-01-01T00:00:00"
                  presentation="date" 
                  [(ngModel)]="programacion.FechaProg" 
                  size="fixed" 
                  [showDefaultButtons]="true"
                  cancelText="Cancelar"
                  doneText="Aceptar"
            >
            </ion-datetime>
          </ng-template>
        </ion-modal>
      </ion-list>
    </ion-col>
  </ion-row>

  <ion-row>
    <ion-col size="12">
      <ion-list>
        <ion-item id="modalHoraPrg">
          <ion-label>Hora Programación</ion-label>
          <ion-note slot="end">{{programacion.HoraProgramacion | date:'hh:mm a' }}</ion-note>
        </ion-item>
        <ion-modal trigger="modalHoraPrg" [keepContentsMounted]="true">
          <ng-template>
            <ion-datetime 
                  presentation="time" 
                  [(ngModel)]="programacion.HoraProgramacion" 
                  size="fixed" 
                  [showDefaultButtons]="true"
                  cancelText="Cancelar"
                  doneText="Aceptar"
            >
            </ion-datetime>
          </ng-template>
        </ion-modal>
      </ion-list>
    </ion-col>
  </ion-row>  

  <ion-row>
    <ion-col size="12">
      <ion-list>
        <ion-item id="modalVisita">
          <ion-label>Fecha Visita</ion-label>
          <ion-note slot="end">{{programacion.FechaVisita | date:'yyyy/MM/dd'}}</ion-note>
        </ion-item>
        <ion-modal trigger="modalVisita" [keepContentsMounted]="true">
          <ng-template>
            <ion-datetime 
                  min="2023-01-01T00:00:00"
                  presentation="date" 
                  [(ngModel)]="programacion.FechaVisita" 
                  size="fixed" 
                  [showDefaultButtons]="true"
                  cancelText="Cancelar"
                  doneText="Aceptar"
            >
            </ion-datetime>
          </ng-template>
        </ion-modal>
      </ion-list>
    </ion-col>
  </ion-row>

  <ion-row>
    <ion-col size="12">
      <ion-list>
        <ion-item id="modalHoraVisita">
          <ion-label>Hora Visita</ion-label>
          <ion-note slot="end">{{programacion.HoraVisita | date:'hh:mm a' }}</ion-note>
        </ion-item>
        <ion-modal trigger="modalHoraVisita" [keepContentsMounted]="true">
          <ng-template>
            <ion-datetime 
                  presentation="time" 
                  [(ngModel)]="programacion.HoraVisita" 
                  size="fixed" 
                  [showDefaultButtons]="true"
                  cancelText="Cancelar"
                  doneText="Aceptar"
            >
            </ion-datetime>
          </ng-template>
        </ion-modal>
      </ion-list>
    </ion-col>
  </ion-row>    

  <ion-row>
    <ion-col size="12">
        <ion-item>
          <ion-label>No compra</ion-label>
          <ion-select [(ngModel)]="programacion.NoCompra" multiple="false" placeholder="Seleccione" interface="popover">
            <ion-select-option [value]="nc" *ngFor="let nc of noCompra">{{ nc }}</ion-select-option>
          </ion-select>
        </ion-item>
    </ion-col>
  </ion-row>
  <ion-row>
    <ion-col size="12">
        <ion-label>Observaciones</ion-label>
        <ion-textarea [(ngModel)]="programacion.Observaciones" autoGrow="true" rows="6"></ion-textarea>
    </ion-col>
  </ion-row>
</ion-content>
